"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/convert/route";
exports.ids = ["app/api/convert/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var D_room_pdf_processor_src_app_api_convert_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/convert/route.ts */ \"(rsc)/./src/app/api/convert/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/convert/route\",\n        pathname: \"/api/convert\",\n        filename: \"route\",\n        bundlePath: \"app/api/convert/route\"\n    },\n    resolvedPagePath: \"D:\\\\مجلد جديد\\\\room\\\\pdf-processor\\\\src\\\\app\\\\api\\\\convert\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_room_pdf_processor_src_app_api_convert_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/convert/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb252ZXJ0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb252ZXJ0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY29udmVydCUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDJUQ5JTg1JUQ4JUFDJUQ5JTg0JUQ4JUFGJTIwJUQ4JUFDJUQ4JUFGJUQ5JThBJUQ4JUFGJTVDcm9vbSU1Q3BkZi1wcm9jZXNzb3IlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUMlRDklODUlRDglQUMlRDklODQlRDglQUYlMjAlRDglQUMlRDglQUYlRDklOEElRDglQUYlNUNyb29tJTVDcGRmLXByb2Nlc3NvciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFnRDtBQUNoRDtBQUMwRjtBQUMzQjtBQUMvRDtBQUNpRztBQUNqRyw0QkFBNEIsZ0hBQTBCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL3BkZi1wcm9jZXNzb3IvPzc4MmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci9ub2RlLXBvbHlmaWxsLWhlYWRlcnNcIjtcbi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFzZhdis2YTYryDYrNiv2YrYr1xcXFxyb29tXFxcXHBkZi1wcm9jZXNzb3JcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udmVydFxcXFxyb3V0ZS50c1wiO1xuY29uc3QgQXBwUm91dGVSb3V0ZU1vZHVsZSA9IG1vZHVsZS5BcHBSb3V0ZVJvdXRlTW9kdWxlO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY29udmVydC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbnZlcnRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NvbnZlcnQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFzZhdis2YTYryDYrNiv2YrYr1xcXFxyb29tXFxcXHBkZi1wcm9jZXNzb3JcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udmVydFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jb252ZXJ0L3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/convert/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/convert/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nconst dynamic = \"force-dynamic\";\nconst responseHeaders = {\n    \"Access-Control-Allow-Origin\": \"*\",\n    \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n    \"Access-Control-Allow-Headers\": \"Content-Type\",\n    \"Cache-Control\": \"no-cache\"\n};\nasync function OPTIONS() {\n    return new Response(null, {\n        headers: responseHeaders\n    });\n}\nconst delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nasync function POST(request) {\n    try {\n        // Validate API key\n        const convertApiSecret = process.env.CONVERTAPI_SECRET;\n        if (!convertApiSecret) {\n            throw new Error(\"CONVERTAPI_SECRET environment variable is not set\");\n        }\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        const format = formData.get(\"format\");\n        const isImageToPdf = formData.get(\"isImageToPdf\") === \"true\";\n        if (!file) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"No file provided\"\n            }, {\n                status: 400,\n                headers: responseHeaders\n            });\n        }\n        // Validate file type based on conversion direction\n        if (isImageToPdf) {\n            if (![\n                \"image/jpeg\",\n                \"image/png\"\n            ].includes(file.type)) {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Invalid file type. Please provide a JPEG or PNG image\"\n                }, {\n                    status: 400,\n                    headers: responseHeaders\n                });\n            }\n        } else {\n            if (file.type !== \"application/pdf\") {\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Invalid file type. Please provide a PDF file\"\n                }, {\n                    status: 400,\n                    headers: responseHeaders\n                });\n            }\n        }\n        // Check file size (10MB limit)\n        const maxSize = 10 * 1024 * 1024; // 10MB\n        if (file.size > maxSize) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"حجم الملف يتجاوز الحد الأقصى (10 ميجابايت)\"\n            }, {\n                status: 413,\n                headers: responseHeaders\n            });\n        }\n        try {\n            console.log(\"Starting conversion...\", {\n                format,\n                isImageToPdf,\n                fileType: file.type,\n                fileSize: file.size\n            });\n            // Validate format\n            const supportedFormats = isImageToPdf ? {\n                pdf: \"jpg/to/pdf,png/to/pdf\"\n            } : {\n                docx: \"pdf/to/docx\"\n            };\n            if (!format || !supportedFormats[format]) {\n                throw new Error(`Format not supported: ${format}`);\n            }\n            const baseUrls = [\n                \"https://v1.convertapi.com\",\n                \"https://v2.convertapi.com\",\n                \"https://api.convertapi.com\"\n            ];\n            let response;\n            let lastError;\n            // Try different API endpoints with retry logic\n            for (const baseUrl of baseUrls){\n                let attempts = 0;\n                const maxAttempts = 3;\n                const conversionPath = isImageToPdf ? `${file.type.split(\"/\")[1]}/to/pdf` : supportedFormats[format];\n                const apiUrl = `${baseUrl}/convert/${conversionPath}?Secret=${convertApiSecret}&StoreFile=true&Timeout=600`;\n                while(attempts < maxAttempts){\n                    try {\n                        console.log(`Trying ${baseUrl}, attempt ${attempts + 1} of ${maxAttempts}...`);\n                        // Create blob with proper content type\n                        const fileBuffer = await file.arrayBuffer();\n                        const contentType = isImageToPdf ? file.type : \"application/pdf\";\n                        const fileBlob = new Blob([\n                            fileBuffer\n                        ], {\n                            type: contentType\n                        });\n                        // Create form data with all parameters\n                        const apiFormData = new FormData();\n                        apiFormData.append(\"File\", fileBlob, file.name);\n                        apiFormData.append(\"StoreFile\", \"true\");\n                        apiFormData.append(\"Timeout\", \"120\");\n                        const fetchResponse = await fetch(apiUrl, {\n                            method: \"POST\",\n                            body: apiFormData\n                        });\n                        console.log(\"Response status:\", fetchResponse.status);\n                        if (fetchResponse.status === 415) {\n                            const errorText = await fetchResponse.text();\n                            console.error(\"415 Error details:\", errorText);\n                            throw new Error(`Unsupported Media Type: ${errorText}`);\n                        }\n                        if (!fetchResponse.ok) {\n                            throw new Error(`HTTP error! status: ${fetchResponse.status}`);\n                        }\n                        response = await fetchResponse.json();\n                        // If successful, break out of both loops\n                        if (response) {\n                            console.log(\"Conversion request successful\");\n                            break;\n                        }\n                    } catch (err) {\n                        lastError = err;\n                        console.error(`Attempt ${attempts + 1} failed:`, err.message);\n                        // Wait before retrying (exponential backoff)\n                        await delay(Math.pow(2, attempts) * 1000);\n                        attempts++;\n                    }\n                }\n                // If we got a successful response, break out of the baseUrl loop\n                if (response) {\n                    break;\n                }\n            }\n            // If all attempts failed\n            if (!response) {\n                throw lastError || new Error(\"All conversion attempts failed\");\n            }\n            console.log(\"Processing response...\");\n            if (!response?.Files?.[0]?.Url) {\n                throw new Error(\"لم يتم استلام رابط الملف المحول\");\n            }\n            // Download converted file\n            console.log(\"Downloading converted file...\");\n            const fileResponse = await fetch(response.Files[0].Url);\n            if (!fileResponse.ok) {\n                throw new Error(\"Failed to download converted file\");\n            }\n            const fileBuffer = await fileResponse.arrayBuffer();\n            console.log(\"File downloaded successfully\");\n            const contentTypes = {\n                docx: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n                pdf: \"application/pdf\"\n            };\n            const outputFormat = isImageToPdf ? \"pdf\" : format;\n            const headers = {\n                ...responseHeaders,\n                \"Content-Type\": contentTypes[outputFormat],\n                \"Content-Disposition\": `attachment; filename=\"converted.${outputFormat}\"`\n            };\n            return new Response(fileBuffer, {\n                headers\n            });\n        } catch (conversionError) {\n            console.error(\"Conversion error:\", {\n                message: conversionError.message,\n                status: conversionError.status\n            });\n            let errorMessage = \"فشل التحويل\";\n            if (conversionError.message) {\n                errorMessage += `: ${conversionError.message}`;\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: errorMessage\n            }, {\n                status: 422,\n                headers: responseHeaders\n            });\n        }\n    } catch (error) {\n        console.error(\"Server error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"حدث خطأ غير متوقع. الرجاء المحاولة مرة أخرى\"\n        }, {\n            status: 500,\n            headers: responseHeaders\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFFQSxhQUFhLENBQUMsQ0FBQztZQUMzRTtZQUVBLE9BQU8sSUFBSWxFLFNBQVMwQyxZQUFZO2dCQUFFekM7WUFBUTtRQUU1QyxFQUFFLE9BQU9rRSxpQkFBc0I7WUFDN0J6QyxRQUFRTixLQUFLLENBQUMscUJBQXFCO2dCQUNqQ3VDLFNBQVNRLGdCQUFnQlIsT0FBTztnQkFDaEN0QyxRQUFROEMsZ0JBQWdCOUMsTUFBTTtZQUNoQztZQUVBLElBQUkrQyxlQUFlO1lBQ25CLElBQUlELGdCQUFnQlIsT0FBTyxFQUFFO2dCQUMzQlMsZ0JBQWdCLENBQUMsRUFBRSxFQUFFRCxnQkFBZ0JSLE9BQU8sQ0FBQyxDQUFDO1lBQ2hEO1lBRUEsT0FBTy9ELGtGQUFZQSxDQUFDdUIsSUFBSSxDQUFDO2dCQUN2QkMsT0FBT2dEO1lBQ1QsR0FBRztnQkFDRC9DLFFBQVE7Z0JBQ1JwQixTQUFTSDtZQUNYO1FBQ0Y7SUFDRixFQUFFLE9BQU9zQixPQUFZO1FBQ25CTSxRQUFRTixLQUFLLENBQUMsaUJBQWlCQTtRQUMvQixPQUFPeEIsa0ZBQVlBLENBQUN1QixJQUFJLENBQUM7WUFDdkJDLE9BQU87UUFDVCxHQUFHO1lBQ0RDLFFBQVE7WUFDUnBCLFNBQVNIO1FBQ1g7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGRmLXByb2Nlc3Nvci8uL3NyYy9hcHAvYXBpL2NvbnZlcnQvcm91dGUudHM/NzQ2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5cclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYyc7XHJcblxyXG5jb25zdCByZXNwb25zZUhlYWRlcnMgPSB7XHJcbiAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcclxuICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyc6ICdQT1NULCBPUFRJT05TJyxcclxuICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDb250ZW50LVR5cGUnLFxyXG4gICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJ1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMoKSB7XHJcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9KTtcclxufVxyXG5cclxuY29uc3QgZGVsYXkgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBWYWxpZGF0ZSBBUEkga2V5XHJcbiAgICBjb25zdCBjb252ZXJ0QXBpU2VjcmV0ID0gcHJvY2Vzcy5lbnYuQ09OVkVSVEFQSV9TRUNSRVQ7XHJcbiAgICBpZiAoIWNvbnZlcnRBcGlTZWNyZXQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDT05WRVJUQVBJX1NFQ1JFVCBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XHJcbiAgICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KCdmaWxlJykgYXMgRmlsZTtcclxuICAgIGNvbnN0IGZvcm1hdCA9IGZvcm1EYXRhLmdldCgnZm9ybWF0Jyk7XHJcbiAgICBjb25zdCBpc0ltYWdlVG9QZGYgPSBmb3JtRGF0YS5nZXQoJ2lzSW1hZ2VUb1BkZicpID09PSAndHJ1ZSc7XHJcbiAgICBcclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogJ05vIGZpbGUgcHJvdmlkZWQnXHJcbiAgICAgIH0sIHsgXHJcbiAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBmaWxlIHR5cGUgYmFzZWQgb24gY29udmVyc2lvbiBkaXJlY3Rpb25cclxuICAgIGlmIChpc0ltYWdlVG9QZGYpIHtcclxuICAgICAgaWYgKCFbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJ10uaW5jbHVkZXMoZmlsZS50eXBlKSkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIGZpbGUgdHlwZS4gUGxlYXNlIHByb3ZpZGUgYSBKUEVHIG9yIFBORyBpbWFnZSdcclxuICAgICAgICB9LCB7IFxyXG4gICAgICAgICAgc3RhdHVzOiA0MDAsXHJcbiAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChmaWxlLnR5cGUgIT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgICBlcnJvcjogJ0ludmFsaWQgZmlsZSB0eXBlLiBQbGVhc2UgcHJvdmlkZSBhIFBERiBmaWxlJ1xyXG4gICAgICAgIH0sIHsgXHJcbiAgICAgICAgICBzdGF0dXM6IDQwMCxcclxuICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyBcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZpbGUgc2l6ZSAoMTBNQiBsaW1pdClcclxuICAgIGNvbnN0IG1heFNpemUgPSAxMCAqIDEwMjQgKiAxMDI0OyAvLyAxME1CXHJcbiAgICBpZiAoZmlsZS5zaXplID4gbWF4U2l6ZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIGVycm9yOiAn2K3YrNmFINin2YTZhdmE2YEg2YrYqtis2KfZiNiyINin2YTYrdivINin2YTYo9mC2LXZiSAoMTAg2YXZitis2KfYqNin2YrYqiknXHJcbiAgICAgIH0sIHsgXHJcbiAgICAgICAgc3RhdHVzOiA0MTMsXHJcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgY29udmVyc2lvbi4uLicsIHtcclxuICAgICAgICBmb3JtYXQsXHJcbiAgICAgICAgaXNJbWFnZVRvUGRmLFxyXG4gICAgICAgIGZpbGVUeXBlOiBmaWxlLnR5cGUsXHJcbiAgICAgICAgZmlsZVNpemU6IGZpbGUuc2l6ZVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFZhbGlkYXRlIGZvcm1hdFxyXG4gICAgICBjb25zdCBzdXBwb3J0ZWRGb3JtYXRzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0gaXNJbWFnZVRvUGRmXHJcbiAgICAgICAgPyB7IHBkZjogJ2pwZy90by9wZGYscG5nL3RvL3BkZicgfVxyXG4gICAgICAgIDoge1xyXG4gICAgICAgICAgICBkb2N4OiAncGRmL3RvL2RvY3gnXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgaWYgKCFmb3JtYXQgfHwgIXN1cHBvcnRlZEZvcm1hdHNbZm9ybWF0IGFzIHN0cmluZ10pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZvcm1hdCBub3Qgc3VwcG9ydGVkOiAke2Zvcm1hdH1gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgYmFzZVVybHMgPSBbXHJcbiAgICAgICAgJ2h0dHBzOi8vdjEuY29udmVydGFwaS5jb20nLFxyXG4gICAgICAgICdodHRwczovL3YyLmNvbnZlcnRhcGkuY29tJyxcclxuICAgICAgICAnaHR0cHM6Ly9hcGkuY29udmVydGFwaS5jb20nXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBsZXQgcmVzcG9uc2U7XHJcbiAgICAgIGxldCBsYXN0RXJyb3I7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUcnkgZGlmZmVyZW50IEFQSSBlbmRwb2ludHMgd2l0aCByZXRyeSBsb2dpY1xyXG4gICAgICBmb3IgKGNvbnN0IGJhc2VVcmwgb2YgYmFzZVVybHMpIHtcclxuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xyXG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gMztcclxuICAgICAgICBjb25zdCBjb252ZXJzaW9uUGF0aCA9IGlzSW1hZ2VUb1BkZiA/IGAke2ZpbGUudHlwZS5zcGxpdCgnLycpWzFdfS90by9wZGZgIDogc3VwcG9ydGVkRm9ybWF0c1tmb3JtYXQgYXMgc3RyaW5nXTtcclxuICAgICAgICBjb25zdCBhcGlVcmwgPSBgJHtiYXNlVXJsfS9jb252ZXJ0LyR7Y29udmVyc2lvblBhdGh9P1NlY3JldD0ke2NvbnZlcnRBcGlTZWNyZXR9JlN0b3JlRmlsZT10cnVlJlRpbWVvdXQ9NjAwYDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGF0dGVtcHRzIDwgbWF4QXR0ZW1wdHMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBUcnlpbmcgJHtiYXNlVXJsfSwgYXR0ZW1wdCAke2F0dGVtcHRzICsgMX0gb2YgJHttYXhBdHRlbXB0c30uLi5gKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBibG9iIHdpdGggcHJvcGVyIGNvbnRlbnQgdHlwZVxyXG4gICAgICAgICAgICBjb25zdCBmaWxlQnVmZmVyID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IGlzSW1hZ2VUb1BkZiA/IGZpbGUudHlwZSA6ICdhcHBsaWNhdGlvbi9wZGYnO1xyXG4gICAgICAgICAgICBjb25zdCBmaWxlQmxvYiA9IG5ldyBCbG9iKFtmaWxlQnVmZmVyXSwgeyB0eXBlOiBjb250ZW50VHlwZSB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBmb3JtIGRhdGEgd2l0aCBhbGwgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICBjb25zdCBhcGlGb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBhcGlGb3JtRGF0YS5hcHBlbmQoJ0ZpbGUnLCBmaWxlQmxvYiwgZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgYXBpRm9ybURhdGEuYXBwZW5kKCdTdG9yZUZpbGUnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgICBhcGlGb3JtRGF0YS5hcHBlbmQoJ1RpbWVvdXQnLCAnMTIwJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XHJcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgYm9keTogYXBpRm9ybURhdGFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2Ugc3RhdHVzOicsIGZldGNoUmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChmZXRjaFJlc3BvbnNlLnN0YXR1cyA9PT0gNDE1KSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgZmV0Y2hSZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignNDE1IEVycm9yIGRldGFpbHM6JywgZXJyb3JUZXh0KTtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIE1lZGlhIFR5cGU6ICR7ZXJyb3JUZXh0fWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWZldGNoUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtmZXRjaFJlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIElmIHN1Y2Nlc3NmdWwsIGJyZWFrIG91dCBvZiBib3RoIGxvb3BzXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb252ZXJzaW9uIHJlcXVlc3Qgc3VjY2Vzc2Z1bCcpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICAgICAgICBsYXN0RXJyb3IgPSBlcnI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEF0dGVtcHQgJHthdHRlbXB0cyArIDF9IGZhaWxlZDpgLCBlcnIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBXYWl0IGJlZm9yZSByZXRyeWluZyAoZXhwb25lbnRpYWwgYmFja29mZilcclxuICAgICAgICAgICAgYXdhaXQgZGVsYXkoTWF0aC5wb3coMiwgYXR0ZW1wdHMpICogMTAwMCk7XHJcbiAgICAgICAgICAgIGF0dGVtcHRzKys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB3ZSBnb3QgYSBzdWNjZXNzZnVsIHJlc3BvbnNlLCBicmVhayBvdXQgb2YgdGhlIGJhc2VVcmwgbG9vcFxyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBhbGwgYXR0ZW1wdHMgZmFpbGVkXHJcbiAgICAgIGlmICghcmVzcG9uc2UpIHtcclxuICAgICAgICB0aHJvdyBsYXN0RXJyb3IgfHwgbmV3IEVycm9yKCdBbGwgY29udmVyc2lvbiBhdHRlbXB0cyBmYWlsZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcgcmVzcG9uc2UuLi4nKTtcclxuXHJcbiAgICAgIGlmICghcmVzcG9uc2U/LkZpbGVzPy5bMF0/LlVybCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YTZhSDZitiq2YUg2KfYs9iq2YTYp9mFINix2KfYqNi3INin2YTZhdmE2YEg2KfZhNmF2K3ZiNmEJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERvd25sb2FkIGNvbnZlcnRlZCBmaWxlXHJcbiAgICAgIGNvbnNvbGUubG9nKCdEb3dubG9hZGluZyBjb252ZXJ0ZWQgZmlsZS4uLicpO1xyXG4gICAgICBjb25zdCBmaWxlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXNwb25zZS5GaWxlc1swXS5VcmwpO1xyXG4gICAgICBpZiAoIWZpbGVSZXNwb25zZS5vaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRvd25sb2FkIGNvbnZlcnRlZCBmaWxlJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGZpbGVCdWZmZXIgPSBhd2FpdCBmaWxlUmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcclxuICAgICAgY29uc29sZS5sb2coJ0ZpbGUgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHknKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlcyA9IHtcclxuICAgICAgICBkb2N4OiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnLFxyXG4gICAgICAgIHBkZjogJ2FwcGxpY2F0aW9uL3BkZidcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG91dHB1dEZvcm1hdCA9IGlzSW1hZ2VUb1BkZiA/ICdwZGYnIDogZm9ybWF0IGFzIGtleW9mIHR5cGVvZiBjb250ZW50VHlwZXM7XHJcblxyXG4gICAgICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgICAgIC4uLnJlc3BvbnNlSGVhZGVycyxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGVzW291dHB1dEZvcm1hdF0sXHJcbiAgICAgICAgJ0NvbnRlbnQtRGlzcG9zaXRpb24nOiBgYXR0YWNobWVudDsgZmlsZW5hbWU9XCJjb252ZXJ0ZWQuJHtvdXRwdXRGb3JtYXR9XCJgXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGZpbGVCdWZmZXIsIHsgaGVhZGVycyB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChjb252ZXJzaW9uRXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdDb252ZXJzaW9uIGVycm9yOicsIHtcclxuICAgICAgICBtZXNzYWdlOiBjb252ZXJzaW9uRXJyb3IubWVzc2FnZSxcclxuICAgICAgICBzdGF0dXM6IGNvbnZlcnNpb25FcnJvci5zdGF0dXNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ9mB2LTZhCDYp9mE2KrYrdmI2YrZhCc7XHJcbiAgICAgIGlmIChjb252ZXJzaW9uRXJyb3IubWVzc2FnZSkge1xyXG4gICAgICAgIGVycm9yTWVzc2FnZSArPSBgOiAke2NvbnZlcnNpb25FcnJvci5tZXNzYWdlfWA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxyXG4gICAgICB9LCB7IFxyXG4gICAgICAgIHN0YXR1czogNDIyLFxyXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignU2VydmVyIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIGVycm9yOiAn2K3Yr9irINiu2LfYoyDYutmK2LEg2YXYqtmI2YLYuS4g2KfZhNix2KzYp9ihINin2YTZhdit2KfZiNmE2Kkg2YXYsdipINij2K7YsdmJJ1xyXG4gICAgfSwgeyBcclxuICAgICAgc3RhdHVzOiA1MDAsXHJcbiAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyBcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZHluYW1pYyIsInJlc3BvbnNlSGVhZGVycyIsIk9QVElPTlMiLCJSZXNwb25zZSIsImhlYWRlcnMiLCJkZWxheSIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiUE9TVCIsInJlcXVlc3QiLCJjb252ZXJ0QXBpU2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkNPTlZFUlRBUElfU0VDUkVUIiwiRXJyb3IiLCJmb3JtRGF0YSIsImZpbGUiLCJnZXQiLCJmb3JtYXQiLCJpc0ltYWdlVG9QZGYiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJpbmNsdWRlcyIsInR5cGUiLCJtYXhTaXplIiwic2l6ZSIsImNvbnNvbGUiLCJsb2ciLCJmaWxlVHlwZSIsImZpbGVTaXplIiwic3VwcG9ydGVkRm9ybWF0cyIsInBkZiIsImRvY3giLCJiYXNlVXJscyIsInJlc3BvbnNlIiwibGFzdEVycm9yIiwiYmFzZVVybCIsImF0dGVtcHRzIiwibWF4QXR0ZW1wdHMiLCJjb252ZXJzaW9uUGF0aCIsInNwbGl0IiwiYXBpVXJsIiwiZmlsZUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiY29udGVudFR5cGUiLCJmaWxlQmxvYiIsIkJsb2IiLCJhcGlGb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwibmFtZSIsImZldGNoUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJlcnJvclRleHQiLCJ0ZXh0Iiwib2siLCJlcnIiLCJtZXNzYWdlIiwiTWF0aCIsInBvdyIsIkZpbGVzIiwiVXJsIiwiZmlsZVJlc3BvbnNlIiwiY29udGVudFR5cGVzIiwib3V0cHV0Rm9ybWF0IiwiY29udmVyc2lvbkVycm9yIiwiZXJyb3JNZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/convert/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fconvert%2Froute&page=%2Fapi%2Fconvert%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fconvert%2Froute.ts&appDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C%D9%85%D8%AC%D9%84%D8%AF%20%D8%AC%D8%AF%D9%8A%D8%AF%5Croom%5Cpdf-processor&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();